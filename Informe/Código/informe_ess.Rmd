---
title: "Reto 1 — Visualización y Storytelling con ESS"
author: "Arturo Flores Maldonado"
date: "`r Sys.Date()`"
output:
  pdf_document: default
  html_document:
    toc: true
    toc_float: true
    df_print: paged
---

```{r setup, include=FALSE}
# Paquetes
need <- c("tidyverse","readr","here","ggplot2","knitr")
inst <- need[!(need %in% installed.packages()[,"Package"])]
if (length(inst) > 0) install.packages(inst)
lapply(need, library, character.only = TRUE)

# Cargar datos depurados (del reto 2)
ruta_csv <- here::here("Datos","Base de datos depurada","ESS_media_dep.csv")
if (!file.exists(ruta_csv)) stop("No se encontró: ", ruta_csv)
data <- readr::read_csv(ruta_csv, show_col_types = FALSE) |>
  mutate(
    pais  = factor(pais),
    ronda = factor(ronda)
  )

# Opciones de gráficos
knitr::opts_chunk$set(message = FALSE, warning = FALSE, fig.width = 8, fig.height = 4.8)
```

# Portada
**Alumno/a:** Arturo Flores Maldonado
**Módulo:** Módulo 8 — Visualización de Datos y Storytelling  
**Fecha:** `r format(Sys.Date(), "%d/%m/%Y")`

---

# Tarea 1. Análisis exploratorio de datos (EDA)

## 1. Descripción de los campos

El conjunto de datos corresponde al módulo **Media use and trust** del **European Social Survey (ESS)**, depurado previamente.

- **pais** — Categórica (geográfica). País del/la encuestado/a.  
- **ronda** — Temporal discreta (ronda/año ESS).  
- **uso_internet_tiempo_min** — Numérica continua. Minutos de uso de internet en un día típico.  
- **tv_politica** — Ordinal (0–7). Frecuencia de ver información política en TV.  
- **lectura_politica** — Ordinal (0–7). Frecuencia de leer información política en prensa.  
- **confianza_personas** — Numérica continua (0–10). Confianza interpersonal.

> Los códigos especiales (66/77/88/99 y 6666/7777/8888/9999) fueron tratados como **NA** en la depuración.

## 2. Distribuciones

```{r}
# Histograma de confianza interpersonal
ggplot(data, aes(x = confianza_personas)) +
  geom_histogram(binwidth = 1, color = "white") +
  labs(title = "Distribución de la confianza interpersonal",
       x = "Confianza (0–10)", y = "Frecuencia") +
  theme_minimal()
```

```{r}
# Boxplot de uso de internet en minutos/día
ggplot(data, aes(y = uso_internet_tiempo_min)) +
  geom_boxplot() +
  labs(title = "Uso de internet (minutos/día)", y = "Minutos") +
  theme_minimal()
```

**Comentarios preliminares:**  
- Forma de las distribuciones, presencia de asimetrías y **outliers**.  
- Rango típico de uso de internet y concentración de valores de confianza.

## 3. Relaciones entre variables

```{r}
# Relación entre uso de internet y confianza
ggplot(data, aes(x = uso_internet_tiempo_min, y = confianza_personas)) +
  geom_point(alpha = 0.3, size = 1) +
  geom_smooth(method = "loess", se = TRUE) +
  labs(title = "Uso de internet vs. confianza interpersonal",
       x = "Minutos de internet (día típico)",
       y = "Confianza (0–10)") +
  theme_minimal()
```

**Lectura:**  
- Señala si se observa una tendencia global (p.ej., débil/ligera) y matiza que puede variar por **país** y **ronda**.

## 4. Selección para el dashboard

A partir del EDA, se incluirán:
- **Exposición mediática:** `uso_internet_tiempo_min`, `tv_politica`, `lectura_politica`.  
- **Resultado:** `confianza_personas`.  
- **Ejes comparativos:** `pais` (geográfico) y `ronda` (temporal).

Estas variables permiten comparar países, observar evolución y explorar la relación entre consumo de medios y confianza.

---
# Tarea 2. Audiencia y objetivo

# Tarea 3. Selección de gráficos y codificación

# Tarea 4. Disposición e interacción

# Tarea 5. Bocetos iniciales

# Referencias

